<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>SimSpin.jl Documentation · My Documentation</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">My Documentation</span></div><form class="docs-search" action="search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>SimSpin.jl Documentation</a><ul class="internal"><li><a class="tocitem" href="#Usage-1"><span>Usage</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>SimSpin.jl Documentation</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>SimSpin.jl Documentation</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/kateharborne/SimSpin-Julia/blob/master/docs/src/index.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="SimSpin.jl-Documentation-1"><a class="docs-heading-anchor" href="#SimSpin.jl-Documentation-1">SimSpin.jl Documentation</a><a class="docs-heading-anchor-permalink" href="#SimSpin.jl-Documentation-1" title="Permalink"></a></h1><h2 id="Usage-1"><a class="docs-heading-anchor" href="#Usage-1">Usage</a><a class="docs-heading-anchor-permalink" href="#Usage-1" title="Permalink"></a></h2><p>For the installation procedure of the SimSpin package please follow the installation instructions on the package&#39;s <a href="https://github.com/kateharborne/SimSpin-Julia"><em>README</em></a>.</p><p>Once installed, a simple procedure of four steps is required to take an observation and generate a datacube:</p><ol><li><p>Construct a <code>Telescope</code> object. This specifies the field of view to be used, the aperture shape, etc. In this example we will use the default <a href="@ref"><code>SAMI</code></a> telescope constructor. See <a href="@ref">Telescope Constructors</a> for other default and customisable constructors.</p><p><code>&gt; telescope = SimSpin.SAMI()</code></p></li><li><p>Read in the simulation&#39;s particle data</p><p><code>&gt; sim_data = SimSpin.sim_data(&quot;path/to/SimSpin/example/SimSpin_example.hdf5&quot;)</code></p></li><li><p>Construct an environment in which the observation is taken.</p></li></ol><p>This specifies the redshift of the galaxy, its inclination, the virial radius and the seeing conditions respectively. We will set redshift to be 0.05, inclination to be 70 degrees, virial radius to be 200 kpc and use no blurring. See <a href="@ref">Environment Constructor</a> and <a href="@ref">Blur Constructors</a> for more details.</p><pre><code class="language-none">        &gt; environment = SimSpin.Environment(0.05, 70, 200)
    ```

4.  Build the datacube as a combination of the galaxy particle data, a telescope and an environment. This function also returns a summary of the observational properties used.

    ```
        &gt; datacube, observe = SimSpin.build_datacube(sim_data, telescope, environment)
    ```

5.  Export the datacube to a FITS file for viewing. See [Data Export](@ref) for more details

        ```
            &gt; SimSpin.sim_FITS(data_cube, observe, &quot;SimSpin_Example_Observation.fits&quot;)
        ```
## Functions</code></pre><p>@docs build<em>datacube flux</em>grid ifu<em>cube obs</em>data<em>prep sim</em>data sim_FITS</p><pre><code class="language-none">## Constructors
### Telescope Constructors

An `IFU` object denotes all the parameters required to make a mock observation.
Any generic IFU can be made using the `IFU()` function.
Default constructors can also be used to emulate famous IFU survey instruments.
Currently `SAMI`, `MaNGA`, `CALIFA` and `Hector` are supported.</code></pre><p>@docs IFU SAMI MaNGA CALIFA Hector</p><pre><code class="language-none">
### Environment Constructor</code></pre><p>@docs Environment</p><pre><code class="language-none">
### Blur Constructors</code></pre><p>@docs Gaussian<em>blur Moffat</em>blur</p><pre><code class="language-none">
### Dark Matter Constructors</code></pre><p>@docs Hernquist NFW</p><pre><code class="language-none">
## Multi-Threading

The SimSpin package has multi-threading enabled in some critical functions.
To use SimSpin with `x` threads (where x is the integer number of threads desired) you must call
</code></pre><p>export JULIA<em>NUM</em>THREADS=x</p><pre><code class="language-none">in a Terminal before the Julia REPL is started. This environment variable defaults to 1 if not set before the session has begun.

## Data Input Format

Here we outline the expected file format accepted by SimSpin.  If you would like to generate this file automatically, a short Python function has been written that uses the [pynbody](https://github.com/pynbody/pynbody) package to read in various simulation data types and generate a SimSpin compatible HDF5 file. See [create_SimSpinFile](https://github.com/kateharborne/create_SimSpinFile).

If you would rather generate the SimSpin file independently, the expected file format is outlined below.
</code></pre><blockquote><p>SimSpin_example.hdf5</p></blockquote><blockquote><blockquote><p>/PartType0           # Each particle type included in the simulation has its own group.</p><blockquote><p>/PartType0/Mass     # Each group then has a series of data sets assocaited, /PartType0/vx       #   including the position, velocity and Mass of each particle. /PartType0/vy /PartType0/vz /PartType0/x /PartType0/y /PartType0/z</p></blockquote></blockquote></blockquote><blockquote><blockquote><p>/PartType1</p><blockquote><p>...</p></blockquote></blockquote></blockquote><pre><code class="language-none">We use the same PartType definition as Gadget: PartTypeX where 0 - gas, 1 - dark matter, 2 - disc, 3 - bulge, 4 - stars. For PartType0-3, each PartType group contains the same data sets as above. If the simulation contains stars, the Age and Metallicity information for each particle is also included:
</code></pre><blockquote><p>SimSpin_example.hdf5</p><blockquote><p>/PartType4</p><blockquote><p>/PartType4/Age /PartType4/Mass /PartType4/Metallicity /PartType4/vx         /PartType4/vy /PartType4/vz /PartType4/x /PartType4/y /PartType4/z</p></blockquote></blockquote></blockquote><pre><code class="language-none">If the file is set up in this way, the simulation data can easily be read into the SimSpin package.

### References

A. Pontzen, R Roskar, G. Stinson and R. Woods, (2013), &quot;pynbody: N-Body/SPH analysis for python&quot;,  Astrophysics Source Code Library, record ascl:1305.002

## Data Export

Currently only FITS file exports are supported.

### FITS Export</code></pre><p>@docs sim_FITS ```</p></article></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Thursday 13 February 2020 05:01">Thursday 13 February 2020</span>. Using Julia version 1.3.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
